{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = formatElapsed;\n\nvar _bn = _interopRequireDefault(require(\"bn.js\"));\n\nvar _toBn = _interopRequireDefault(require(\"../is/toBn\")); // Copyright 2017-2020 @polkadot/ui-util authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\n\nfunction getValue(value) {\n  if (value) {\n    if ((0, _toBn.default)(value)) {\n      return getValue(value.toBn());\n    } else if (value instanceof Date) {\n      return getValue(value.getTime());\n    } else if (value instanceof _bn.default) {\n      return getValue(value.toNumber());\n    }\n  }\n\n  return value || 0;\n}\n\nfunction formatElapsed(now, value) {\n  const tsNow = now && now.getTime() || 0;\n  const tsValue = getValue(value);\n  let display = '0.0s';\n\n  if (tsNow && tsValue) {\n    const elapsed = Math.max(Math.abs(tsNow - tsValue), 0) / 1000;\n\n    if (elapsed < 15) {\n      display = `${elapsed.toFixed(1)}s`;\n    } else if (elapsed < 60) {\n      display = `${elapsed | 0}s`;\n    } else if (elapsed < 3600) {\n      display = `${elapsed / 60 | 0}m`;\n    } else {\n      display = `${elapsed / 3600 | 0}h`;\n    }\n  }\n\n  return display;\n}","map":null,"metadata":{},"sourceType":"script"}